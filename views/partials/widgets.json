[{"code":"/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./templates/_shared/assets/scripts/cart-badge.js\":\n/*!********************************************************!*\\\n  !*** ./templates/_shared/assets/scripts/cart-badge.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \\\"prototype\\\", { writable: false }); return Constructor; }\\n\\nvar CartBadge = /*#__PURE__*/function () {\\n  function CartBadge() {\\n    _classCallCheck(this, CartBadge);\\n\\n    this.badgeElement = document.getElementById('cart-badge');\\n    this.badgeText = this.badgeElement ? this.badgeElement.getElementsByTagName('text')[0] : null;\\n    this.itemsQuantity = this.badgeText ? Number(this.badgeText.innerHTML) : null;\\n  }\\n\\n  _createClass(CartBadge, [{\\n    key: \\\"setBadgeItems\\\",\\n    value: function setBadgeItems() {\\n      var itemsQuantity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\\n\\n      if (!this.badgeElement || !this.badgeText) {\\n        return;\\n      }\\n\\n      if (itemsQuantity < 0) {\\n        // invalid number of items\\n        return;\\n      }\\n\\n      this.itemsQuantity = itemsQuantity;\\n      this.badgeText.innerHTML = itemsQuantity;\\n\\n      if (itemsQuantity === 0) {\\n        // cart badge has to be hidden\\n        this.badgeElement.classList.remove('show-cart-badge-icon');\\n        return;\\n      }\\n\\n      this.badgeElement.classList.add('show-cart-badge-icon');\\n    }\\n  }, {\\n    key: \\\"addItem\\\",\\n    value: function addItem() {\\n      this.setBadgeItems(this.itemsQuantity + 1);\\n    }\\n  }, {\\n    key: \\\"removeItem\\\",\\n    value: function removeItem() {\\n      this.setBadgeItems(this.itemsQuantity - 1);\\n    }\\n  }]);\\n\\n  return CartBadge;\\n}();\\n\\nmodule.exports = CartBadge;\\n\\n//# sourceURL=webpack:///./templates/_shared/assets/scripts/cart-badge.js?\");\n\n/***/ }),\n\n/***/ \"./templates/_shared/assets/scripts/cookie-disclaimer.js\":\n/*!***************************************************************!*\\\n  !*** ./templates/_shared/assets/scripts/cookie-disclaimer.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var googleAnalyticsHandler = __webpack_require__(/*! ./utils/google-analytics */ \\\"./templates/_shared/assets/scripts/utils/google-analytics.js\\\");\\n\\nvar _require = __webpack_require__(/*! ./utils/constants/googleAnalytics */ \\\"./templates/_shared/assets/scripts/utils/constants/googleAnalytics/index.js\\\"),\\n    EVENT = _require.EVENT,\\n    TYPE = _require.TYPE,\\n    EVENT_CATEGORY = _require.EVENT_CATEGORY,\\n    EVENT_ACTION = _require.EVENT_ACTION;\\n\\nvar cookieDisclaimerHandler = function cookieDisclaimerHandler() {\\n  var cookieDisclaimerBanner = document.querySelector(\\\"[data-js='cookieDisclaimerBanner']\\\");\\n  var cookieDisclaimerButton = document.querySelector(\\\"[data-js='cookieDisclaimerButton']\\\");\\n  var cookieDisclaimerMoreInfo = document.querySelector(\\\"[data-js='cookieDisclaimerMoreInfo']\\\");\\n  var siteId = cookieDisclaimerButton.getAttribute(\\\"site-id\\\").toLowerCase();\\n  var cookieName = \\\"_ml_cbanner_\\\".concat(siteId);\\n\\n  var setHideBanner = function setHideBanner() {\\n    cookieDisclaimerBanner.style.display = \\\"none\\\";\\n  };\\n\\n  var setShowBanner = function setShowBanner() {\\n    cookieDisclaimerBanner.style.display = \\\"flex\\\";\\n  };\\n\\n  var setDisclaimerCookie = function setDisclaimerCookie() {\\n    var expirarionTime = 60 * 60 * 24 * 365 * 3; // Three years\\n\\n    var disclaimerCookie = \\\"\\\".concat(cookieName, \\\"=1; max-age=\\\").concat(expirarionTime, \\\"; path=/;\\\");\\n    document.cookie = disclaimerCookie; // once the cookie is set, hide the banner\\n\\n    setHideBanner();\\n  };\\n\\n  if (cookieDisclaimerButton) {\\n    cookieDisclaimerButton.addEventListener(\\\"click\\\", function () {\\n      setDisclaimerCookie();\\n      googleAnalyticsHandler(EVENT.SEND, TYPE.EVENT, EVENT_CATEGORY.LGPD, EVENT_ACTION.ACCEPT);\\n    });\\n  }\\n\\n  if (cookieDisclaimerMoreInfo) {\\n    cookieDisclaimerMoreInfo.addEventListener(\\\"click\\\", function () {\\n      googleAnalyticsHandler(EVENT.SEND, TYPE.EVENT, EVENT_CATEGORY.LGPD, EVENT_ACTION.MORE_INFO);\\n    });\\n  }\\n\\n  if (document.cookie.indexOf(\\\"\\\".concat(cookieName, \\\"=\\\")) === -1) {\\n    setShowBanner();\\n  }\\n};\\n\\nmodule.exports = cookieDisclaimerHandler;\\n\\n//# sourceURL=webpack:///./templates/_shared/assets/scripts/cookie-disclaimer.js?\");\n\n/***/ }),\n\n/***/ \"./templates/_shared/assets/scripts/utils/constants/googleAnalytics/index.js\":\n/*!***********************************************************************************!*\\\n  !*** ./templates/_shared/assets/scripts/utils/constants/googleAnalytics/index.js ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = {\\n  EVENT: {\\n    SEND: 'send',\\n    SET: 'set'\\n  },\\n  TYPE: {\\n    EVENT: 'event',\\n    PAGE: 'page'\\n  },\\n  EVENT_CATEGORY: {\\n    LGPD: 'LGPD'\\n  },\\n  EVENT_ACTION: {\\n    ACCEPT: 'ACCEPT',\\n    MORE_INFO: 'MORE_INFO'\\n  }\\n};\\n\\n//# sourceURL=webpack:///./templates/_shared/assets/scripts/utils/constants/googleAnalytics/index.js?\");\n\n/***/ }),\n\n/***/ \"./templates/_shared/assets/scripts/utils/google-analytics.js\":\n/*!********************************************************************!*\\\n  !*** ./templates/_shared/assets/scripts/utils/google-analytics.js ***!\n  \\********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"var googleAnalyticsHandler = function googleAnalyticsHandler(event, hitType, eventCategory, eventAction) {\\n  if (meli_ga && typeof meli_ga !== 'undefined') {\\n    meli_ga(event, {\\n      hitType: hitType,\\n      eventCategory: eventCategory,\\n      eventAction: eventAction\\n    });\\n  }\\n};\\n\\nmodule.exports = googleAnalyticsHandler;\\n\\n//# sourceURL=webpack:///./templates/_shared/assets/scripts/utils/google-analytics.js?\");\n\n/***/ }),\n\n/***/ \"./templates/tools/assets/scripts/menu/src/index.js\":\n/*!**********************************************************!*\\\n  !*** ./templates/tools/assets/scripts/menu/src/index.js ***!\n  \\**********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var cookieDisclaimerHandler = __webpack_require__(/*! ../../../../../_shared/assets/scripts/cookie-disclaimer */ \\\"./templates/_shared/assets/scripts/cookie-disclaimer.js\\\");\\n\\nvar CartBadge = __webpack_require__(/*! ../../../../../_shared/assets/scripts/cart-badge */ \\\"./templates/_shared/assets/scripts/cart-badge.js\\\");\\n\\nwindow.CartBadge = new CartBadge();\\n\\n(function () {\\n  function performSearch(event) {\\n    event.preventDefault();\\n    var searchInput = document.getElementById(\\\"search-input\\\");\\n    window.location = \\\"/\\\" + encodeURIComponent(searchInput.value);\\n  }\\n\\n  var searchForm = document.getElementById(\\\"search-form\\\");\\n  searchForm.onsubmit = performSearch;\\n  cookieDisclaimerHandler();\\n})();\\n\\n(function () {\\n  var modeDropdown = document.querySelector(\\\"#more-dropdown\\\");\\n  var modeDropdownContainer = document.querySelector(\\\".nav-list__item--more\\\");\\n\\n  var moreCategoriesStatus = function moreCategoriesStatus() {\\n    var status = [];\\n    var items = modeDropdown.querySelectorAll(\\\".nav-list__item\\\");\\n\\n    for (var i = 0; i < items.length; i++) {\\n      status.push(items[i].style.display);\\n    }\\n\\n    var noneQnt = status.filter(function (statusItem) {\\n      return statusItem == \\\"none\\\";\\n    });\\n    return noneQnt.length >= status.length;\\n  };\\n\\n  var moreCategoriesToggle = function moreCategoriesToggle() {\\n    if (!moreCategoriesStatus()) {\\n      modeDropdownContainer.style.display = \\\"initial\\\";\\n    } else {\\n      modeDropdownContainer.style.display = \\\"none\\\";\\n    }\\n  };\\n\\n  window.addEventListener(\\\"resize\\\", function () {\\n    moreCategoriesStatus();\\n    moreCategoriesToggle();\\n    setMobileMenuHeight();\\n  });\\n  document.querySelectorAll(\\\".toggle-menu\\\").forEach(function (menuItem) {\\n    menuItem.addEventListener(\\\"click\\\", function (e) {\\n      e.target.classList.toggle(\\\"active\\\");\\n      var target = e.target.classList.contains(\\\"subcategory\\\") ? '.target-' + e.target.getAttribute(\\\"data-js\\\") + ' .nav-tools-list--vertical__subitem' : '.target-' + e.target.getAttribute(\\\"data-js\\\");\\n      var activeClass = menuItem.classList.contains(\\\"active\\\");\\n      var parentElement_ = e.target.parentElement.parentElement.querySelector(\\\".nav-tools-list--vertical__attr-container\\\");\\n\\n      if (e.target.classList.contains(\\\"subcategory\\\")) {\\n        if (activeClass) {\\n          document.querySelectorAll(target).forEach(function (a) {\\n            a;\\n            a.style.display = \\\"inline\\\";\\n          });\\n        } else {\\n          document.querySelectorAll(target).forEach(function (a) {\\n            a;\\n            a.style.display = \\\"none\\\";\\n          });\\n        }\\n      } else {\\n        if (activeClass) {\\n          parentElement_.style.display = \\\"inline\\\";\\n        } else {\\n          parentElement_.style.display = \\\"none\\\";\\n        }\\n      }\\n    });\\n  });\\n  var navList = document.getElementById(\\\"nav-list\\\");\\n\\n  function showHamburgerMenu() {\\n    var navListChildren = navList.children;\\n    var maxWidthNavList = 400;\\n    var totalWidth = 0;\\n\\n    for (var i = 0; i < navListChildren.length; i++) {\\n      totalWidth = totalWidth + navListChildren[i].offsetWidth;\\n    }\\n\\n    return totalWidth > maxWidthNavList;\\n  }\\n\\n  window.addEventListener(\\\"resize\\\", showHamburgerMenu);\\n  var navPopoverList = document.querySelector(\\\"#nav-list\\\");\\n  var button = document.querySelector(\\\".nav-list__item--more\\\");\\n  var navListChildren = navPopoverList.querySelectorAll(\\\"[tools-custom-data-emitter]\\\");\\n  var buttonListChildren = button.querySelectorAll(\\\".nav-list--dropdown [tools-custom-data-receiver]\\\");\\n\\n  function numberOfActiveItems(number) {\\n    try {\\n      for (var i = 0; i < navListChildren.length; i++) {\\n        if (navListChildren[i].className !== \\\"nav-list__item how-buy__button\\\") {\\n          navListChildren[i].style.display = \\\"inline\\\";\\n          buttonListChildren[i].style.display = \\\"block\\\";\\n        }\\n\\n        if (navListChildren[i].getAttribute(\\\"tools-custom-data-emitter\\\") > number - 1) {\\n          navListChildren[i].style.display = \\\"none\\\";\\n        } else {\\n          buttonListChildren[i].style.display = \\\"none\\\";\\n        }\\n      }\\n    } catch (e) {}\\n  } // ------> I leave this session commented because I believe the code can be improved to make it clearer. having more time I will take care of improving it\\n  //In this session an algorithm was created to check the number of elements that can be displayed in the menu in relation to their size\\n\\n\\n  var menuElement = document.querySelector(\\\"#nav-list\\\");\\n  var menuElementChildrens = menuElement.querySelectorAll(\\\".nav-list__item\\\");\\n  var safePaddingArea = 300;\\n\\n  function checkMenuFill(menuChildren, utils) {\\n    //here I try to stop the propagation of foreach when the number of elements exceeds the menu overflow\\n    if (!utils.stopPropagation) {\\n      numberOfActiveItems(utils.counter + 1);\\n    } else {\\n      return;\\n    }\\n\\n    utils.currentMenuFill += menuChildren.getBoundingClientRect().width; //I put it in the -200 condition so that the overflow has a safe space in relation to the right padding\\n\\n    if (utils.currentMenuFill > utils.menuSize - safePaddingArea) {\\n      numberOfActiveItems(utils.counter);\\n      utils.stopPropagation = true;\\n    }\\n  } //Here I am creating a literal utilities object for executing the script\\n\\n\\n  function runActiveMenuItems() {\\n    //it is necessary to instantiate the number of items visible at zero in this instance of the function\\n    numberOfActiveItems(0);\\n    var utils = {\\n      menuSize: 0,\\n      currentMenuFill: 0,\\n      counter: 0,\\n      stopPropagation: false\\n    };\\n    var menu = document.querySelector(\\\"#nav-list\\\");\\n    var menuWidth = parseFloat(menu.getBoundingClientRect().width);\\n    utils.menuSize = menuWidth;\\n    menuElementChildrens.forEach(function (element, index) {\\n      utils.counter = index;\\n      checkMenuFill(element, utils);\\n    });\\n  }\\n\\n  runActiveMenuItems();\\n  window.addEventListener(\\\"resize\\\", function (e) {\\n    var width = e.srcElement.innerWidth;\\n    runActiveMenuItems();\\n  }); //Mobile menu actions\\n\\n  var categoriesOption = document.querySelectorAll('[data-js=\\\"categories-toggle\\\"]'); // this conditional fix chrome 43 version warning\\n\\n  if (categoriesOption && categoriesOption.length > 0) {\\n    categoriesOption.forEach(function (item) {\\n      item.addEventListener(\\\"click\\\", toggleSubItems);\\n    }, this);\\n  }\\n\\n  function toggleSubItems() {\\n    var displayHidden = \\\"none\\\";\\n    var displayVisible = \\\"block\\\";\\n    var subItemes = document.querySelectorAll('[data-toggle=\\\"' + this.id + '\\\"]');\\n    subItemes.forEach(function (item) {\\n      item.style.display = this.checked ? displayVisible : displayHidden;\\n    }, this);\\n  }\\n\\n  function hideAllMenu() {\\n    try {\\n      document.querySelectorAll(\\\".submenu--visible\\\").forEach(function (element) {\\n        element.classList.remove(\\\"submenu--visible\\\");\\n      });\\n    } catch (e) {}\\n\\n    try {\\n      document.querySelectorAll(\\\".submenu--active\\\").forEach(function (element) {\\n        element.classList.remove(\\\"submenu--active\\\");\\n      });\\n    } catch (e) {}\\n\\n    try {\\n      var categoriesElements = document.querySelector(\\\"#more-dropdown\\\");\\n      categoriesElements.classList.remove(\\\"more-dropdown--visible\\\");\\n    } catch (e) {}\\n  }\\n\\n  var menuItem = document.querySelectorAll(\\\"[tools-custom-data-emitter]\\\").forEach(function (item) {\\n    childrenClass = item.getAttribute(\\\"tools-custom-data-emitter\\\");\\n    item.addEventListener(\\\"mouseover\\\", function (element) {\\n      hideAllMenu();\\n\\n      try {\\n        item.classList.add(\\\"submenu--active\\\");\\n        var elementTarget = element.target.getAttribute(\\\"tools-custom-data-emitter\\\");\\n        var subcategoryElement = document.querySelector('[data-toggle=\\\"' + elementTarget + '\\\"]');\\n        subcategoryElement.classList.add(\\\"submenu--visible\\\");\\n      } catch (e) {}\\n    });\\n  });\\n  document.querySelector(\\\".nav-list__item--more\\\").addEventListener(\\\"mouseover\\\", function (element) {\\n    hideAllMenu();\\n    var categoriesElements = document.querySelector(\\\"#more-dropdown\\\");\\n\\n    if (!moreCategoriesStatus()) {\\n      categoriesElements.classList.add(\\\"more-dropdown--visible\\\");\\n    }\\n  });\\n  document.querySelector(\\\".nav-tools-header__categories\\\").addEventListener(\\\"mouseleave\\\", function (element) {\\n    var categoriesElements = document.querySelector(\\\"#more-dropdown\\\");\\n    categoriesElements.classList.remove(\\\"more-dropdown--visible\\\");\\n    hideAllMenu();\\n  });\\n\\n  function setMenuArrowsColor() {\\n    try {\\n      var arrows = document.querySelectorAll(\\\".nav-header__toggle\\\");\\n      var hr = document.querySelectorAll(\\\".nav-tools-list--vertical__hr.header--custom-border, #more-dropdown .nav-list__item hr\\\");\\n      var colorReferenceElement = document.querySelector(\\\".nav-list .header--custom-text a\\\");\\n      var colorReference = window.getComputedStyle(colorReferenceElement, null).getPropertyValue(\\\"color\\\");\\n      arrows.forEach(function (element) {\\n        element.style.backgroundColor = colorReference;\\n      });\\n      hr.forEach(function (element) {\\n        element.style.backgroundColor = colorReference;\\n        element.style.padding = \\\"0.5px\\\";\\n      });\\n    } catch (e) {}\\n  }\\n\\n  function setMobileMenuHeight() {\\n    var header = document.querySelector(\\\".header-wrapper.header-wrapper--fixed\\\");\\n    var headerSize = window.getComputedStyle(header, null).getPropertyValue(\\\"height\\\");\\n    var menuContainer = document.querySelector(\\\"#mobile-categories-menu-switch ~ .nav-list--vertical\\\");\\n    menuContainer.style.height = \\\"calc(100vh - \\\" + headerSize + \\\")\\\";\\n    menuContainer.style.top = headerSize;\\n    menuContainer.style.marginTop = \\\"0px\\\";\\n    menuContainer.style.marginBottom = \\\"12px\\\";\\n  }\\n\\n  function checkEmptyCategory() {\\n    var parentElement = document.querySelectorAll(\\\".nav-tools-list--vertical__category.header--custom-text\\\");\\n\\n    try {\\n      parentElement.forEach(function (element) {\\n        var dataJsElement = element.querySelector(\\\"[data-js]\\\");\\n        var attribute = dataJsElement ? dataJsElement.getAttribute(\\\"data-js\\\") : \\\"\\\";\\n        var elementTarget = document.querySelector(\\\".target-\\\" + attribute);\\n\\n        if (elementTarget != null && elementTarget.childElementCount == 0) {\\n          element.querySelector(\\\".toggle-menu.subcategory\\\").remove();\\n        }\\n      });\\n    } catch (e) {\\n      console.error(e);\\n    }\\n  }\\n\\n  function allowOnlyClickEvents(element) {\\n    document.querySelectorAll(element).forEach(function (element) {\\n      element.addEventListener('click', function () {\\n        element.querySelector('.nav-list__link:not(div)').style.pointerEvents = \\\"all\\\";\\n        element.querySelector('.nav-list__link').click();\\n      });\\n    });\\n  }\\n\\n  var navListItemMore = document.querySelector('.nav-list__item--more');\\n  navListItemMore.addEventListener('mouseover', function (element) {\\n    try {\\n      navListItemMore.classList.add(\\\"submenu--active\\\");\\n    } catch (e) {}\\n  });\\n  navListItemMore.addEventListener('mouseleave', function (element) {\\n    try {\\n      navListItemMore.classList.remove(\\\"submenu--active\\\");\\n    } catch (e) {}\\n  });\\n\\n  var showMenu = function showMenu() {\\n    var menuCategories = document.querySelector('.nav-tools-header__categories');\\n    menuCategories.classList.add('nav-tools-header__categories--visible');\\n    document.querySelector('.nav-tools-header__top-bound-separation').style.overflow = \\\"auto\\\";\\n  };\\n\\n  allowOnlyClickEvents('#nav-list .nav-list__item');\\n  moreCategoriesToggle();\\n  setMenuArrowsColor();\\n  setMobileMenuHeight();\\n  checkEmptyCategory();\\n  showMenu();\\n})();\\n\\n//# sourceURL=webpack:///./templates/tools/assets/scripts/menu/src/index.js?\");\n\n/***/ }),\n\n/***/ 1:\n/*!****************************************************************!*\\\n  !*** multi ./templates/tools/assets/scripts/menu/src/index.js ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"module.exports = __webpack_require__(/*! ./templates/tools/assets/scripts/menu/src/index.js */\\\"./templates/tools/assets/scripts/menu/src/index.js\\\");\\n\\n\\n//# sourceURL=webpack:///multi_./templates/tools/assets/scripts/menu/src/index.js?\");\n\n/***/ })\n\n/******/ });","src":"","priority":10,"key":"widget-0"},{"code":"const URLactual = window.location.pathname\r\nconst marcasSection = document.getElementsByClassName('marcas-section')[0]\r\nconst destacadasSection = document.getElementsByClassName('destacadas-section')[0]\r\nconst destacadasSection2 = document.getElementsByClassName('destacadas-section2')[0]\r\nconst destacadasTitleDiv = document.getElementsByClassName('destacadas-title-div')[0]\r\nconst newsletterSection = document.getElementsByClassName('p-body')[0]\r\nconst pagosSection = document.getElementsByClassName('pagos-section')[0]\r\n\r\nif(screen.width < 767){\r\n    destacadasSection.classList.remove('invisible')\r\n    destacadasSection2.classList.add('invisible')\r\n}\r\n\r\nif(URLactual !== '/'){\r\n        marcasSection.classList.add('invisible')\r\n        destacadasTitleDiv.classList.add('invisible')\r\n        newsletterSection.classList.add('invisible')\r\n        pagosSection.classList.add('invisible')\r\n        destacadasSection2.classList.add('invisible')\r\n        destacadasSection.classList.add('invisible')\r\n}\r\n\r\nif(screen.width < 960){\r\n    document.getElementsByClassName('hr')[0].classList.toggle('invisible')\r\n    document.getElementsByClassName('hr')[1].classList.toggle('invisible')\r\n    document.getElementsByClassName('hr')[2].classList.toggle('invisible')\r\n}\r\n\r\nconst arrow = document.getElementsByClassName('arrow-menu')\r\nconst categorias = document.getElementsByClassName('categorias-mobile')\r\nconst subcategorias = document.getElementsByClassName('subcategorias')\r\nconst subcategorias2 = document.getElementsByClassName('subcategorias2')\r\nlet arrowActivated0\r\nlet arrowActivated1\r\nlet arrowActivated2\r\nlet arrowActivated3\r\nlet arrowActivated4\r\nlet arrowActivated5\r\nlet arrowActivated6\r\n\r\ncategorias[0].style.backgroundColor = 'rgb(1,33,118)'\r\n\r\narrow[0].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated0){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[1].style.backgroundColor = ''\r\n        arrowActivated0 = false\r\n        \r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[1].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated0 = true\r\n    }\r\n    subcategorias[0].classList.toggle('invisible')\r\n    subcategorias[1].classList.toggle('invisible')\r\n    subcategorias[2].classList.toggle('invisible')\r\n    subcategorias[3].classList.toggle('invisible')\r\n    subcategorias[4].classList.toggle('invisible')\r\n})\r\narrow[1].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated1){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[2].style.backgroundColor = ''\r\n        arrowActivated1 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[2].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated1 = true\r\n    }\r\n\r\n    subcategorias[5].classList.toggle('invisible')\r\n    subcategorias[6].classList.toggle('invisible')\r\n    subcategorias[7].classList.toggle('invisible')\r\n    subcategorias[8].classList.toggle('invisible')\r\n    subcategorias[9].classList.toggle('invisible')\r\n\r\n    subcategorias2[0].classList.add('invisible')\r\n    subcategorias2[1].classList.add('invisible')\r\n    subcategorias2[2].classList.add('invisible')\r\n    subcategorias2[3].classList.add('invisible')\r\n    subcategorias2[4].classList.add('invisible')\r\n})\r\narrow[2].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated2){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[3].style.backgroundColor = ''\r\n        arrowActivated2 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[3].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated2 = true\r\n    }\r\n\r\n    subcategorias2[0].classList.toggle('invisible')\r\n    subcategorias2[1].classList.toggle('invisible')\r\n\r\n    \r\n})\r\narrow[3].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated3){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[4].style.backgroundColor = ''\r\n        arrowActivated3 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[4].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated3 = true\r\n    }\r\n\r\n    subcategorias2[2].classList.toggle('invisible')\r\n    subcategorias2[3].classList.toggle('invisible')\r\n    subcategorias2[4].classList.toggle('invisible')\r\n})\r\narrow[4].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated4){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[5].style.backgroundColor = ''\r\n        arrowActivated4 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[5].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated4 = true\r\n    }\r\n\r\n    subcategorias[10].classList.toggle('invisible')\r\n    subcategorias[11].classList.toggle('invisible')\r\n    subcategorias[12].classList.toggle('invisible')\r\n    subcategorias[13].classList.toggle('invisible')\r\n})\r\narrow[5].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated5){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[6].style.backgroundColor = ''\r\n        arrowActivated5 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[6].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated5 = true\r\n    }\r\n\r\n    subcategorias[14].classList.toggle('invisible')\r\n    subcategorias[15].classList.toggle('invisible')\r\n})\r\narrow[6].addEventListener('click', (e) => {\r\n\r\n    if(arrowActivated6){\r\n        e.target.style.transform = 'rotate(-0deg)'\r\n        categorias[7].style.backgroundColor = ''\r\n        arrowActivated6 = false\r\n    }else{\r\n        e.target.style.transform = 'rotate(90deg)'\r\n        categorias[7].style.backgroundColor = 'rgb(1,33,118)'\r\n        arrowActivated6 = true\r\n    }\r\n\r\n    subcategorias[16].classList.toggle('invisible')\r\n    subcategorias[17].classList.toggle('invisible')\r\n})\r\n\r\n// let categoriaDestacada1 = document.getElementsByClassName('destacadas-img-div1')[0]\r\n// let categoriaDestacada2 = document.getElementsByClassName('destacadas-img-div2')[0]\r\n// let categoriaDestacada3 = document.getElementsByClassName('destacadas-img-div3')[0]\r\n\r\n// let nombreCategoriaDestacada1 = document.getElementsByClassName('destacadas-img-title')[0]\r\n// let nombreCategoriaDestacada2 = document.getElementsByClassName('destacadas-img-title')[1]\r\n// let nombreCategoriaDestacada3 = document.getElementsByClassName('destacadas-img-title')[2]\r\n\r\n// if(screen.width >= 1000){\r\n//     categoriaDestacada1.addEventListener('mouseenter', () => {\r\n//         nombreCategoriaDestacada1.classList.toggle('invisible')\r\n//     })\r\n    \r\n//     categoriaDestacada1.addEventListener('mouseleave', () => {\r\n//         nombreCategoriaDestacada1.classList.toggle('invisible')\r\n//     })\r\n    \r\n//     categoriaDestacada2.addEventListener('mouseenter', () => {\r\n//         nombreCategoriaDestacada2.classList.toggle('invisible')\r\n//     })\r\n    \r\n//     categoriaDestacada2.addEventListener('mouseleave', () => {\r\n//         nombreCategoriaDestacada2.classList.toggle('invisible')\r\n//     })\r\n    \r\n//     categoriaDestacada3.addEventListener('mouseenter', () => {\r\n//         nombreCategoriaDestacada3.classList.toggle('invisible')\r\n//     })\r\n    \r\n//     categoriaDestacada3.addEventListener('mouseleave', () => {\r\n//         nombreCategoriaDestacada3.classList.toggle('invisible')\r\n//     })\r\n// }else{\r\n//     nombreCategoriaDestacada1.classList.remove('invisible')\r\n//     nombreCategoriaDestacada2.classList.remove('invisible')\r\n//     nombreCategoriaDestacada3.classList.remove('invisible')\r\n// }\r\n\r\n\r\nconst marcasDiv = document.querySelector('.marcas-div');\r\nlet isDown = false;\r\nlet startX;\r\nlet scrollLeft;\r\n\r\nmarcasDiv.addEventListener('mousedown', (e) => {\r\n    isDown = true;\r\n    startX = e.pageX - marcasDiv.offsetLeft;\r\n    scrollLeft = marcasDiv.scrollLeft;\r\n    marcasDiv.style.scrollBehavior = 'auto';\r\n});\r\n\r\nmarcasDiv.addEventListener('mouseleave', () => {\r\n    isDown = false;\r\n});\r\n\r\nmarcasDiv.addEventListener('mouseup', () => {\r\n    isDown = false;\r\n    marcasDiv.style.scrollBehavior = 'smooth';\r\n});\r\n\r\nmarcasDiv.addEventListener('mousemove', (e) => {\r\n    if (!isDown) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - marcasDiv.offsetLeft;\r\n    const walk = (x - startX) * 2;\r\n    marcasDiv.scrollLeft = scrollLeft - walk;\r\n});\r\n\r\nconst componentWrapper = document.querySelectorAll(\".component-wrapper\");\r\nconst marcas = document.querySelector(\".marcas-section\");\r\nconst arrepentimiento = document.querySelector(\".buyer-info\");\r\nconst pagos = document.querySelector(\".pagos-section\");\r\n\r\nif (URLactual == \"/\") {\r\n  setTimeout(function () {\r\n    $(document).ready(function () {\r\n      $(marcas).insertAfter($(componentWrapper[0]));\r\n    });\r\n\r\n    $(document).ready(function () {\r\n        $(arrepentimiento).insertAfter($(pagos));\r\n    });\r\n  }, 500);\r\n}\r\n\r\nif(URLactual === '/'){\r\n    setTimeout(() => {\r\n    const titulo = document.getElementsByClassName('section-header__original');\r\n\r\n    let divNuevo = document.createElement('div');\r\n    divNuevo.classList.add('div-titulo');\r\n\r\n    let divNuevo2 = document.createElement('div');\r\n    divNuevo2.classList.add('div-titulo');\r\n\r\n    let divNuevo3 = document.createElement('div');\r\n    divNuevo3.classList.add('div-titulo');\r\n\r\n    let divNuevo4 = document.createElement('div');\r\n    divNuevo4.classList.add('div-titulo');\r\n\r\n    titulo[0].appendChild(divNuevo);\r\n    titulo[1].appendChild(divNuevo2);\r\n    titulo[2].appendChild(divNuevo3);\r\n    titulo[3].appendChild(divNuevo4);\r\n\r\n\r\n    }, 500)\r\n}\r\n\r\n// const categoriasDiv = document.getElementsByClassName('carousel-container')\r\n\r\n// for(let i = 1 ; i < categoriasDiv.length ; i++){\r\n//     categoriasDiv[i].style.maxWidth = \"1200px !important\";\r\n// }\r\n","src":"","priority":10,"key":"widget-1"},{"code":"var PerfitOptIn = PerfitOptIn || {};\r\n\r\nPerfitOptIn['Th3R6bsV'] = (function () {\r\n    /*\r\n    Form Data\r\n    ******************************************************************************/\r\n    var id = 'Th3R6bsV',\r\n        action = 'https://pubapi.myperfit.com/v2/optin/pideweb/',\r\n        form = {\"title\":\"SUSCRIBITE AL NEWSLETTER\",\"text\":\"¡Suscribite para recibir descuentos exclusivos!\",\"buttonText\":\"Suscribirme\",\"footer\":\"Recibirás un correo para validar tu email.\",\"redirect\":\"\",\"successMessage\":\"¡Muchas gracias! Recuerda revisar tu casilla para confirmar la suscripción.\",\"interestsText\":\"\",\"config\":\"{\\\"styles\\\":{\\\"headerBackgroundColor\\\":\\\"#C9EEFA\\\",\\\"backgroundColor\\\":\\\"#FFFFFF\\\",\\\"buttonBackgroundColor\\\":\\\"#ac0606\\\",\\\"headerTextColor\\\":\\\"#002275\\\",\\\"buttonTextColor\\\":\\\"#F5F5F5\\\",\\\"textColor\\\":\\\"#7E7E7E\\\",\\\"textAlign\\\":\\\"center\\\",\\\"titleInBody\\\":true,\\\"maxWidth\\\":\\\"1120px\\\"},\\\"layout\\\":\\\"default\\\",\\\"fonts\\\":{\\\"text\\\":{},\\\"title\\\":{}}}\",\"fields\":[{\"id\":3,\"displayName\":\"Email\",\"format\":\"EMAIL\",\"required\":true},{\"id\":1,\"displayName\":\"Nombre\",\"format\":\"TEXT\",\"required\":false},{\"id\":10,\"displayName\":\"Cumpleaños (DD/MM)\",\"format\":\"TEXT\",\"required\":false}],\"interests\":[]};\r\n    /*\r\n\r\n    Form Logic\r\n\r\n    ******************************************************************************/\r\n\r\n    var jqueryURL = 'https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js',\r\n        i18n = {\r\n            es: {\r\n                male: 'Masculino',\r\n                female: 'Femenino',\r\n                gender: 'GÃ©nero',\r\n                language: 'Idioma',\r\n                submitError: 'OcurriÃ³ un error, por favor intenta nuevamente.',\r\n            },\r\n            pt: {\r\n                male: 'Masculino',\r\n                female: 'Feminino',\r\n                gender: 'GÃ©nero',\r\n                language: 'LÃ­ngua',\r\n                submitError: 'Ocorreu um erro. Por favor, tente novamente.',\r\n            },\r\n            en: {\r\n                male: 'Male',\r\n                female: 'Female',\r\n                gender: 'Gender',\r\n                language: 'Language',\r\n                submitError: 'An error occurred, please try again.',\r\n            },\r\n        },\r\n        i18nRules = {\r\n            es: {\r\n                EMAIL: {\r\n                    regex: /^([a-zA-Z0-9_\\.-]+)@([\\da-zA-Z\\.-]+)\\.([a-zA-Z\\.]{2,6})$/,\r\n                    message: 'Ingresa una direcciÃ³n de email vÃ¡lida.',\r\n                },\r\n                URL: {\r\n                    regex: /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/,\r\n                    message: 'Ingresa una URL vÃ¡lida.',\r\n                },\r\n                DATE: {\r\n                    regex: /^(0[1-9]|[12][0-9]|3[01])[-.](0[1-9]|1[012])[-.](19|20)\\d\\d$/,\r\n                    message: 'Ingresa una fecha con formato DD-MM-AAAA.',\r\n                },\r\n                INT: {\r\n                    regex: /^[\\d\\,\\.]+$/,\r\n                    message: 'Ingresa un nÃºmero entero.',\r\n                },\r\n                TEXT: {\r\n                    regex: /^.+$/,\r\n                    message: 'Ingresa un texto vÃ¡lido.',\r\n                },\r\n                REQUIRED: {\r\n                    regex: /^$|\\s+/,\r\n                    message: 'Completa este campo para continuar.',\r\n                },\r\n            },\r\n            pt: {\r\n                EMAIL: {\r\n                    regex: /^([a-zA-Z0-9_\\.-]+)@([\\da-zA-Z\\.-]+)\\.([a-zA-Z\\.]{2,6})$/,\r\n                    message: 'Insira um email vÃ¡lido.',\r\n                },\r\n                URL: {\r\n                    regex: /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/,\r\n                    message: 'Ingrese una URL vÃ¡lida.',\r\n                },\r\n                DATE: {\r\n                    regex: /^(0[1-9]|[12][0-9]|3[01])[-.](0[1-9]|1[012])[-.](19|20)\\d\\d$/,\r\n                    message: 'Insira uma data com formato DD-MM-AAAA.',\r\n                },\r\n                INT: {\r\n                    regex: /^[\\d\\,\\.]+$/,\r\n                    message: 'Insira um nÃºmero inteiro.',\r\n                },\r\n                TEXT: {\r\n                    regex: /^.+$/,\r\n                    message: 'Insira um texto vÃ¡lido.',\r\n                },\r\n                REQUIRED: {\r\n                    regex: /^$|\\s+/,\r\n                    message: 'Complete este campo para continuar.',\r\n                },\r\n            },\r\n            en: {\r\n                EMAIL: {\r\n                    regex: /^([a-zA-Z0-9_\\.-]+)@([\\da-zA-Z\\.-]+)\\.([a-zA-Z\\.]{2,6})$/,\r\n                    message: 'Insert a valid email address.',\r\n                },\r\n                URL: {\r\n                    regex: /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/,\r\n                    message: 'Insert a valid URL.',\r\n                },\r\n                DATE: {\r\n                    regex: /^(0[1-9]|[12][0-9]|3[01])[-.](0[1-9]|1[012])[-.](19|20)\\d\\d$/,\r\n                    message: 'Insert a date with format DD-MM-YYYY.',\r\n                },\r\n                INT: {\r\n                    regex: /^[\\d\\,\\.]+$/,\r\n                    message: 'Insert a valid integer.',\r\n                },\r\n                TEXT: {\r\n                    regex: /^.+$/,\r\n                    message: 'Insert a valid text.',\r\n                },\r\n                REQUIRED: {\r\n                    regex: /^$|\\s+/,\r\n                    message: 'Complete this field to continue.',\r\n                },\r\n            },\r\n        },\r\n        rules = i18nRules.es,\r\n        defaultLayout = {\r\n            partials: {\r\n                layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin p-layout-{{layout}}\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\">{{titleBlock}}{{textBlock}}{{_redirect}}{{_fields}}<div class=\"p-interests\"><p class=\"p-interests-text\">{{interestsText}}</p>{{_interests}}</div><button class=\"p-submit\" type=\"submit\">{{buttonText}}</button>{{footerBlock}}</div></form>',\r\n                titleBlock: '<p class=\"p-title\">{{title}}</p>',\r\n                textBlock: '<p class=\"p-text\">{{text}}</p>',\r\n                footerBlock: '<p class=\"p-footer\">{{footer}}</p>',\r\n                header: '<div class=\"p-header\"><div class=\"p-title\">{{title}}</div><div class=\"p-close\" id=\"p-close\">&times;</div></div>',\r\n                redirect: '<input type=\"hidden\" name=\"redirect\" value=\"{{redirect}}\">',\r\n                field: '<div class=\"p-field\"><label><span>{{displayName}}</span></label><input type=\"text\" maxlength=\"100\" name=\"fields[{{id}}]\" placeholder=\"{{placeholder}}\" {{required}} data-validate={{format}} {{regex}} {{message}}></div>',\r\n                fieldSelect:\r\n                    '<div class=\"p-field\"><label><span>{{displayName}}</span></label><select name=\"fields[{{id}}]\" {{required}}><option value=\"\" disabled selected>{{placeholder}}</option>{{fieldOptions}}</select></div>',\r\n                fieldOption: '<option value=\"{{option}}\">{{option}}</option>',\r\n                selects: {\r\n                    gender: '<div class=\"p-field\"><label><span>{{displayName}}</span></label><select name=\"fields[{{id}}]\" {{required}} class=\"p-select\"><option value=\"\" disabled selected>{{gender}}</option><option value=\"M\">{{male}}</option><option value=\"F\">{{female}}</option></select></div>',\r\n                    language:\r\n                        '<div class=\"p-field\"><label><span>{{displayName}}</span></label><select name=\"fields[{{id}}]\" {{required}} class=\"p-select\"><option value=\"\" disabled selected>{{language}}</option><option value=\"es\">Espa&ntilde;ol</option><option value=\"en\">English</option><option value=\"de\">Deutsch</option><option value=\"fr\">FranÃ§ais</option><option value=\"it\">Italiano</option><option value=\"pt\">PortuguÃªs</option></select></div>',\r\n                    format: '<div class=\"p-field\"><label><span>{{displayName}}</span></label><div><label><input type=\"radio\" checked=\"checked\" value=\"HTML\" name=\"fields[{{id}}]\"> HTML</label></div><div><label><input type=\"radio\" value=\"TXT\" name=\"fields[{{id}}]\"> TXT</label></div></div>',\r\n                },\r\n                interests:\r\n                    '<div class=\"p-interest\"><label><input type=\"checkbox\" name=\"interests[]\" value=\"{{id}}\" {{checked}}>{{displayName}}</label></div>',\r\n                //test intereses con select\r\n                // layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\"><p>{{text}}</p>{{_redirect}}{{_fields}}<div class=\"p-interests\"><p class=\"p-interests-text\">{{interestsText}}</p><select name=\"interest[]\">{{_interests}}</select></div><p>{{footer}}</p><button class=\"p-submit\" type=\"submit\">{{buttonText}}</button></div></form>',\r\n                // interests:\r\n                //     '<option value=\"{{id}}\">{{displayName}}</option>',\r\n                success: '<div class=\"p-success\">{{message}}</div>',\r\n                button: '<button id=\"p-open\" class=\"p-open\">{{buttonText}}</button>',\r\n                error: '<p class=\"p-error-message\">{{error}}</p>',\r\n                spinner:\r\n                    '<svg class=\"p-spinner\" viewBox=\"0 0 50 50\"><circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle></svg>',\r\n            },\r\n            styles: {\r\n                headerBackgroundColor: {\r\n                    selector: '.p-optin{{id}} div.p-header',\r\n                    property: 'background-color',\r\n                },\r\n                headerTextColor: {\r\n                    selector: '.p-optin{{id}} div.p-header, div.p-close, .p-optin{{id}} div.p-body p.p-title',\r\n                    property: 'color',\r\n                },\r\n                buttonBackgroundColor: {\r\n                    selector: '.p-optin{{id}} .p-body button, div.p-button button.p-open',\r\n                    property: 'background-color',\r\n                },\r\n                buttonTextColor: {\r\n                    selector: '.p-optin{{id}} .p-body button, div.p-button button.p-open',\r\n                    property: 'color',\r\n                },\r\n                textColor: {\r\n                    selector:\r\n                        '.p-optin{{id}} div.p-body p:not(.p-error-message):not(.p-title), .p-optin{{id}} div.p-body .p-success, .p-optin{{id}} div.p-body label',\r\n                    property: 'color',\r\n                },\r\n                backgroundColor: {\r\n                    selector: '.p-optin{{id}} div.p-body',\r\n                    property: 'background-color',\r\n                },\r\n                image: {\r\n                    selector: '.p-optin{{id}} div.p-col-image',\r\n                    property: 'background-image',\r\n                },\r\n                imageSize: {\r\n                    selector: '.p-optin{{id}} div.p-col-image',\r\n                    property: 'background-size',\r\n                },\r\n                landingBackground: {\r\n                    selector: 'body.p-landing',\r\n                    property: 'background',\r\n                },\r\n                backgroundImage: {\r\n                    selector: '.p-optin{{id}} div.p-body',\r\n                    property: 'background-image',\r\n                },\r\n                backgroundImageSize: {\r\n                    selector: '.p-optin{{id}} div.p-body',\r\n                    property: 'background-size',\r\n                },\r\n                textAlign: {\r\n                    selector: '.p-optin{{id}} .p-body p',\r\n                    property: 'text-align',\r\n                },\r\n                maxWidth: {\r\n                    selector: 'form.p-optin{{id}}',\r\n                    property: 'max-width',\r\n                },\r\n            },\r\n        };\r\n    var layouts = {\r\n            default: defaultLayout,\r\n            leftImage: {\r\n                partials: Object.assign({}, defaultLayout.partials, {\r\n                    layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin p-layout-{{layout}}\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\"><div class=\"p-grid\"><div class=\"p-col p-col-image\"></div><div class=\"p-col p-col-form\">{{titleBlock}}{{textBlock}}{{_redirect}}{{_fields}}<div class=\"p-interests\"><p class=\"p-interests-text\">{{interestsText}}</p>{{_interests}}</div><button class=\"p-submit\" type=\"submit\">{{buttonText}}</button>{{footerBlock}}</div></div></form>',\r\n                }),\r\n                styles: defaultLayout.styles,\r\n            },\r\n            rightImage: {\r\n                partials: Object.assign({}, defaultLayout.partials, {\r\n                    layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin p-layout-{{layout}}\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\"><div class=\"p-grid\"><div class=\"p-col p-col-form\">{{titleBlock}}{{textBlock}}{{_redirect}}{{_fields}}<div class=\"p-interests\"><p class=\"p-interests-text\">{{interestsText}}</p>{{_interests}}</div><button class=\"p-submit\" type=\"submit\">{{buttonText}}</button>{{footerBlock}}</div><div class=\"p-col p-col-image\"></div></div></form>',\r\n                }),\r\n                styles: defaultLayout.styles,\r\n            },\r\n            inline: {\r\n                partials: Object.assign({}, defaultLayout.partials, {\r\n                    layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin p-layout-{{layout}}\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\">{{titleBlock}}{{textBlock}}<div class=\"p-inline-fields\">{{_redirect}}{{_fields}}<button class=\"p-submit\" type=\"submit\">{{buttonText}}</button></div>{{footerBlock}}</div></form>',\r\n                }),\r\n                styles: defaultLayout.styles,\r\n            },\r\n            topImage: {\r\n                partials: Object.assign({}, defaultLayout.partials, {\r\n                    layout: '<form id=\"optin-form-{{id}}\" class=\"p-optin p-layout-{{layout}}\" action=\"{{action}}\" method=\"POST\" accept-charset=\"UTF-8\" data-ajax=\"{{ajax}}\">{{header}}<div class=\"p-body\"><div class=\"p-grid\"><div class=\"p-col p-col-image\"></div><div class=\"p-col p-col-form\">{{titleBlock}}{{textBlock}}{{_redirect}}{{_fields}}<div class=\"p-interests\"><p class=\"p-interests-text\">{{interestsText}}</p>{{_interests}}</div><button class=\"p-submit\" type=\"submit\">{{buttonText}}</button>{{footerBlock}}</div></div></form>',\r\n                }),\r\n                styles: defaultLayout.styles,\r\n            },\r\n        },\r\n        layout = layouts.default,\r\n        partials = layout.partials,\r\n        selects = {\r\n            4: 'gender',\r\n            5: 'language',\r\n            7: 'format',\r\n        },\r\n        data = {\r\n            _redirect: '',\r\n            _fields: '',\r\n            _interests: '',\r\n        },\r\n        el = {},\r\n        t = function (string, values) {\r\n            var value, regex;\r\n            for (value in values) {\r\n                if (values.hasOwnProperty(value)) {\r\n                    regex = new RegExp('{{' + value + '}}', 'g');\r\n                    string = string.replace(regex, values[value]);\r\n                }\r\n            }\r\n            return string;\r\n        },\r\n        validateFields = function (e) {\r\n            var i = 0,\r\n                fields = e.target.elements,\r\n                field,\r\n                validate,\r\n                required,\r\n                pattern,\r\n                errorMessages = document.getElementsByClassName('p-error-message');\r\n            isValid = true;\r\n            //clean prev errors\r\n            while (errorMessages.length > 0) {\r\n                errorMessages[0].parentNode.removeChild(errorMessages[0]);\r\n            }\r\n\r\n            // validate each field\r\n            for (i = 0, field = ''; (field = fields[i++]); ) {\r\n                if (field.localName !== 'input' && field.localName !== 'select') continue;\r\n\r\n                if( field.getAttribute('data-validate') === 'EMAIL'){\r\n                    field.value = field.value.trim();\r\n                }\r\n\r\n                field.className = '';\r\n                validate = field.getAttribute('data-validate') || false;\r\n                required = field.getAttribute('data-required') || false;\r\n\r\n                customRegex = field.getAttribute('data-regex') || false;\r\n                customMessage = field.getAttribute('data-message') || false;\r\n\r\n                if (required && field.value === '') {\r\n                    isValid = false;\r\n                    field.className = 'p-error';\r\n                    field.insertAdjacentHTML(\r\n                        'afterend',\r\n                        t(partials.error, {\r\n                            error: rules.REQUIRED.message,\r\n                        })\r\n                    );\r\n                } else if (validate && !customRegex && field.value !== '') {\r\n                    pattern = new RegExp(rules[validate].regex);\r\n                    if (!pattern.test(field.value)) {\r\n                        isValid = false;\r\n                        field.className = 'p-error';\r\n                        field.insertAdjacentHTML(\r\n                            'afterend',\r\n                            t(partials.error, {\r\n                                error: rules[validate].message,\r\n                            })\r\n                        );\r\n                    }\r\n                } else if (customRegex && field.value !== '') {\r\n                    pattern = new RegExp(customRegex);\r\n                    if (!pattern.test(field.value)) {\r\n                        isValid = false;\r\n                        field.className = 'p-error';\r\n                        field.insertAdjacentHTML(\r\n                            'afterend',\r\n                            t(partials.error, {\r\n                                error: customMessage,\r\n                            })\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            if (!isValid) {\r\n                e.preventDefault();\r\n            }\r\n            return isValid;\r\n        },\r\n        closePopUp = function (e) {\r\n            el.body.className = bodyClasses;\r\n            el.popup.className = 'p-layer p-closed';\r\n\r\n            if(callbacks.closed && callbacks.closed instanceof Function) {\r\n                callbacks.closed();\r\n            }            \r\n        },\r\n        openPopUp = function (e) {\r\n            el.body.className = bodyClasses + ' p-popup-open';\r\n            el.popup.className = 'p-layer';\r\n            setTimeout(()=>{\r\n                el.popup.className = 'p-layer p-opened';\r\n            }, 1);\r\n\r\n            if(callbacks.opened && callbacks.opened instanceof Function) {\r\n                callbacks.opened();\r\n            }\r\n        },\r\n        saveCookie = function () {\r\n            var expires = new Date(),\r\n                days = 365,\r\n                domain = location.host;\r\n            if (domain.startsWith('www')) {\r\n                domain = domain.replace('www', '');\r\n            } else if (domain) {\r\n                domain = '.' + domain;\r\n            }\r\n            expires.setMilliseconds(expires.getMilliseconds() + days * 864e5);\r\n            document.cookie = 'p-optin=1; path=/ ; expires=' + expires.toUTCString() + ' ; domain=' + domain;\r\n        },\r\n        readCookie = function () {\r\n            var result,\r\n                key = 'p-optin';\r\n            return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie))\r\n                ? result[1]\r\n                : null;\r\n        },\r\n        i,\r\n        j,\r\n        current,\r\n        template,\r\n        script,\r\n        bindSubmit,\r\n        bodyClasses,\r\n        html = '',\r\n        isValid = true,\r\n        lang = 'es',\r\n        config = {},\r\n        callbacks = {opened: undefined, closed: undefined, submitted: undefined},\r\n        setCallbacks = function ({opened, closed, submitted}) {\r\n            if(opened && opened instanceof Function){\r\n                callbacks.opened = opened;\r\n            }\r\n            if(closed && closed instanceof Function){\r\n                callbacks.closed = closed;\r\n            }\r\n            if(submitted && submitted instanceof Function){\r\n                callbacks.submitted = submitted;\r\n            }                        \r\n        };\r\n\r\n    try {\r\n        if (form.config) {\r\n            config = JSON.parse(form.config);\r\n        }\r\n    } catch (error) {\r\n        console.error('Invalid custom config');\r\n    }\r\n\r\n    if (config.layout) {\r\n        layout = layouts[config.layout];\r\n        if (!layout) layout = layouts['default'];\r\n    }\r\n    partials = layout.partials;\r\n\r\n    // jQuery and AJAX configuration\r\n    form.ajax = form.redirect.length ? false : true;\r\n\r\n    // Set the action\r\n    form.action = action + id;\r\n\r\n    // Set the ID\r\n    form.id = id;\r\n\r\n    //Browser lang\r\n    var navLocale = navigator.language || navigator.userLanguage;\r\n    if (navLocale) {\r\n        var navLang = navLocale.substr(0, 2);\r\n        if (i18nRules[navLang]) {\r\n            lang = navLang;\r\n        }\r\n    }\r\n\r\n    rules = i18nRules[lang];\r\n\r\n    var titleInBody = config.styles && config.styles.titleInBody;\r\n\r\n    // Set the header\r\n    form.header = form.title !== '' && !titleInBody ? t(partials.header, form) : '';\r\n\r\n    form.titleBlock = form.title !== '' && titleInBody ? t(partials.titleBlock, form) : '';\r\n\r\n    // Set the header\r\n    form.textBlock = form.text === '' ? '' : t(partials.textBlock, form);\r\n\r\n    // Set the header\r\n    form.footerBlock = form.footer === '' ? '' : t(partials.footerBlock, form);\r\n\r\n    form.layout = config.layout || 'default';\r\n\r\n    // Render the form\r\n    html = html + t(partials.layout, form);\r\n\r\n    // Render redirect\r\n    data._redirect = t(partials.redirect, form);\r\n\r\n    var customFieldsConfig = config.fields || {};\r\n\r\n    // Render fields\r\n    for (i = 0; i < form.fields.length; i++) {\r\n        current = form.fields[i];\r\n        current.required = current.required ? 'data-required=\"true\"' : '';\r\n        current.placeholder = current.format === 'DATE' ? 'DD-MM-AAAA' : current.displayName;\r\n\r\n        var idStr = form.fields[i].id.toString();\r\n        if (customFieldsConfig[idStr] && customFieldsConfig[idStr].validator) {\r\n            var customValidator = customFieldsConfig[idStr].validator;\r\n            if (customValidator.regex) {\r\n                current.regex = 'data-regex=\"' + customValidator.regex + '\"';\r\n            }\r\n            if (customValidator.message) {\r\n                current.message = 'data-message=\"' + customValidator.message + '\"';\r\n            }\r\n        } else {\r\n            current.regex = '';\r\n            current.message = '';\r\n        }\r\n\r\n        if (selects[current.id] !== undefined) {\r\n            current.male = i18n[lang].male;\r\n            current.female = i18n[lang].female;\r\n            current.gender = i18n[lang].gender;\r\n            current.language = i18n[lang].language;\r\n            template = partials.selects[selects[current.id]];\r\n        } else {\r\n            if (customFieldsConfig[idStr] && customFieldsConfig[idStr].options) {\r\n                current.fieldOptions = '';\r\n                for (j = 0; j < customFieldsConfig[idStr].options.length; j++) {\r\n                    current.fieldOptions += t(partials.fieldOption, { option: customFieldsConfig[idStr].options[j] });\r\n                }\r\n\r\n                template = partials.fieldSelect;\r\n            } else {\r\n                template = partials.field;\r\n            }\r\n        }\r\n        data._fields += t(template, current);\r\n    }\r\n\r\n    // Render interests\r\n    for (i = 0; i < form.interests.length; i++) {\r\n        current = form.interests[i];\r\n        current.checked = current.selected ? 'checked' : '';\r\n        current.displayName = current.displayName.replace(\r\n            /\\[([^\\]]+)\\]\\(([^\\)]+)\\)/,\r\n            '<a target=\"_blank\" href=\"$2\">$1</a>'\r\n        );\r\n        data._interests += t(partials.interests, current);\r\n    }\r\n\r\n    // Add fields to the form\r\n    html = t(html, data);\r\n\r\n    // Select the container\r\n    el.container = document.getElementById('optin-' + id);\r\n\r\n    // Select the body\r\n    el.body = document.getElementsByTagName('body')[0];\r\n    bodyClasses = el.body.className;\r\n\r\n    // Add class acording to type\r\n    form.type = el.container.getAttribute('data-type') || 'inline';\r\n    el.container.className = 'p-' + form.type;\r\n\r\n    // Inline form\r\n    if (form.type === 'inline') {\r\n        el.container.innerHTML = html;\r\n        el.form = el.container.childNodes[0];\r\n    }\r\n\r\n    // Pop-Up form\r\n    if (form.type === 'popup' || form.type === 'button') {\r\n        if (form.type === 'popup') {\r\n            form.mode = el.container.getAttribute('data-mode') || 'once';\r\n        }\r\n        el.popup = document.createElement('div');\r\n        el.popup.innerHTML = html;\r\n        el.form = el.popup.childNodes[0];\r\n        el.body.appendChild(el.popup);\r\n        \r\n\r\n        // If the cookie is found, close the pop-up\r\n        if (readCookie() || (form.mode !== 'always' && form.mode !== 'once')) {\r\n            closePopUp();\r\n        } else {\r\n            openPopUp();\r\n        }\r\n\r\n        // Bind Pop-Up close button\r\n        el.close = el.popup.querySelectorAll('.p-close')[0];\r\n        if (el.close) {\r\n            if (el.close.addEventListener) {\r\n                el.close.addEventListener('click', closePopUp, false);\r\n            } else if (el.close.attachEvent) {\r\n                //IE8 compatib - deprecar?\r\n                el.close.attachEvent('onclick', closePopUp);\r\n            }\r\n        } else {\r\n            // Bind click outside\r\n            var clickableLayer = document.createElement('div');\r\n            clickableLayer.className = 'p-close-layer';\r\n            clickableLayer.addEventListener('click', closePopUp, false);\r\n            el.popup.insertBefore(clickableLayer, el.popup.firstChild);\r\n        }\r\n        if (form.mode === 'once') {\r\n            saveCookie();\r\n        }\r\n    }\r\n\r\n    // Button\r\n    if (form.type === 'button') {\r\n        el.container.innerHTML = t(partials.button, form);\r\n        closePopUp();\r\n\r\n        // Bind Pop-Up open button\r\n        el.open = document.getElementById('p-open');\r\n        if (el.open.addEventListener) {\r\n            el.open.addEventListener('click', openPopUp, false);\r\n        } else if (el.open.attachEvent) {\r\n            el.open.attachEvent('onclick', openPopUp);\r\n        }\r\n    }\r\n\r\n    // Bind form submission\r\n    if (el.form.addEventListener) {\r\n        el.form.addEventListener('submit', validateFields, false);\r\n    } else if (el.form.attachEvent) {\r\n        el.form.attachEvent('onsubmit', validateFields);\r\n    }\r\n\r\n    // Apply custom styling\r\n    var buildStyle = function (name, value) {\r\n        if (!value) return '';\r\n        if (!layout.styles[name]) {\r\n            // console.error('Invalid Perfit form style: ' + name);\r\n            return '';\r\n        }\r\n        var style =\r\n            layout.styles[name].selector.replace(/{{id}}/g, '#optin-form-' + id) +\r\n            '{' +\r\n            layout.styles[name].property +\r\n            ':' +\r\n            value +\r\n            '}\\n';\r\n        return style;\r\n    };\r\n    var customCss = '';\r\n    if (config.styles) {\r\n        for (var style in config.styles) {\r\n            if (config.styles.hasOwnProperty(style)) {\r\n                customCss += buildStyle(style, config.styles[style]);\r\n            }\r\n        }\r\n    }\r\n    if (config.customCss) {\r\n        customCss += config.customCss;\r\n    }\r\n    var headTag = document.getElementsByTagName('head')[0];\r\n\r\n    if (customCss) {\r\n        var customStyleTag = document.createElement('style');\r\n        customStyleTag.type = 'text/css';\r\n        customStyleTag.innerHTML = customCss;\r\n        headTag.appendChild(customStyleTag);\r\n    }\r\n    if (\r\n        config.fonts &&\r\n        ((config.fonts.title && config.fonts.title.family) || (config.fonts.text && config.fonts.text.family))\r\n    ) {\r\n        var customFontsTag = document.createElement('style');\r\n        customFontsTag.rel = 'stylesheet';\r\n        customFontsTag.innerHTML = '@import url(https://fonts.googleapis.com/css2?display=swap';\r\n        if (config.fonts.text && config.fonts.text.family) {\r\n            customFontsTag.innerHTML +=\r\n                '&family=' +\r\n                encodeURIComponent(\r\n                    config.fonts.text.family + (config.fonts.text.weight ? ':wght@' + config.fonts.text.weight : '')\r\n                );\r\n        }\r\n        if (config.fonts.title && config.fonts.title.family) {\r\n            customFontsTag.innerHTML +=\r\n                '&family=' +\r\n                encodeURIComponent(\r\n                    config.fonts.title.family + (config.fonts.title.weight ? ':wght@' + config.fonts.title.weight : '')\r\n                );\r\n        }\r\n\r\n        customFontsTag.innerHTML += ');\\n';\r\n        if (config.fonts.text && config.fonts.text.family) {\r\n            customFontsTag.innerHTML +=\r\n                '#optin-form-' + id + ' {font-family: ' + config.fonts.text.family + ' !important}\\n';\r\n        }\r\n        if (config.fonts.title && config.fonts.title.family) {\r\n            customFontsTag.innerHTML +=\r\n                '#optin-form-' + id + '.p-optin .p-title {font-family: ' + config.fonts.title.family + ' !important}\\n';\r\n        }\r\n\r\n        headTag.insertBefore(customFontsTag, headTag.firstChild);\r\n    }\r\n\r\n    // Manage AJAX submissions\r\n    if (window.forceAjax || form.ajax) {\r\n        // Bind form sumbit event\r\n        bindSubmit = function () {\r\n            jQuery('#optin-form-' + id).submit(function (e) {\r\n                var form = jQuery(this),\r\n                    content = form.find('.p-col-form').length ? form.find('.p-col-form') : form.find('.p-body'),\r\n                    button = form.find('.p-submit');\r\n\r\n                e.preventDefault();\r\n                if (isValid) {\r\n                    content.css('minHeight', content[0].clientHeight);\r\n                    button.css('minHeight', button[0].clientHeight);\r\n                    button.css('minWidth', button[0].clientWidth);\r\n                    button.html(layout.partials.spinner);\r\n                    button.attr('disbled', true);\r\n                    form.addClass('p-submitting');\r\n                    jQuery.ajax({\r\n                        type: 'POST',\r\n                        url: form.attr('action'),\r\n                        data: form.serialize(),\r\n                        success: function (response) {\r\n                            if (response.success) {\r\n                                content.html(\r\n                                    t(partials.success, {\r\n                                        message: response.data.userMessage,\r\n                                    })\r\n                                );\r\n                                if(callbacks.submitted && callbacks.submitted instanceof Function) {\r\n                                    callbacks.submitted();\r\n                                }                                 \r\n                            }\r\n                            saveCookie();\r\n                        },\r\n                        error: function (response) {\r\n                            if (!response.success) {\r\n                                alert(response.error.userMessage);\r\n                            } else {\r\n                                alert(i18n[lang].submitError);\r\n                            }\r\n                            location.reload();\r\n                        },\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        // If needed, add jQuery\r\n        if (!window.jQuery) {\r\n            script = document.createElement('script');\r\n            script.type = 'text/javascript';\r\n            script.onreadystatechange = function () {\r\n                if (this.readyState == 'complete') {\r\n                    bindSubmit();\r\n                }\r\n            };\r\n            script.onload = bindSubmit;\r\n            script.src = jqueryURL;\r\n            document.getElementsByTagName('head')[0].appendChild(script);\r\n        } else {\r\n            bindSubmit();\r\n        }\r\n    }\r\n\r\n    //Export API\r\n    return {\r\n        open: openPopUp,\r\n        close: closePopUp,\r\n        form: form,\r\n        config: config,\r\n        setCallbacks: setCallbacks,\r\n    };\r\n})();","src":"","priority":10,"key":"widget-2"}]